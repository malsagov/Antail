{"version":3,"sources":["pages/user/User.module.sass","pages/main/Main.module.sass","components/header/Header.module.sass","components/card/Card.module.sass","pages/main/Main.jsx","components/mediaList/utils.js","utils/utils.js","components/card/Card.jsx","components/skeleton/card/CardSkeleton.jsx","components/skeleton/cardTable/CardTableSkeleton.jsx","components/mediaList/MediaList.jsx","components/filters/Filters.jsx","graphql/queries/getCurrentAnimeTrends.js","graphql/queries/filterAnime.js","pages/anime/Anime.jsx","hooks/useAnimeTrends.js","hooks/useFilter.js","hooks/usePagination.js","graphql/queries/getUser.js","pages/user/User.jsx","graphql/queries/getAnimePage.js","pages/anime/animeTrendPage/AnimeTrendPage.jsx","hooks/useAnimePage.js","hooks/usePaginationForPage.js","graphql/queries/getAnime.js","pages/animePage/AnimePage.jsx","routes.js","components/header/Header.jsx","api.js","redux/currentUserReduser.js","App.js","redux/userReducer.js","redux/srote.js","index.js","components/filters/Filters.module.sass","pages/anime/Anime.module.sass","components/skeleton/cardTable/CardTableSkeleton.module.sass","pages/animePage/AnimePage.module.sass","components/skeleton/card/CardSkeleton.module.sass","components/mediaList/MediaList.module.sass"],"names":["module","exports","Main","className","s","main","listTitles","title","listLinks","installRareIcon","rate","c","focusable","role","xmlns","viewBox","color","fill","d","Card","url","id","coverImage","season","date","averageScore","studios","format","episodes","genres","index","card","imageLink","to","image","src","extraLarge","alt","english","userPreferred","cardTitle","details","right","left","header","toLowerCase","smile","info","separator","tags","map","genre","i","CardSkeleton","highlightColor","cards","Array","item","width","height","CardTableSkeleton","MediaList","animeTrends","loading","landingSection","titleWrap","expand","results","Object","values","media","elem","startDate","year","edges","node","name","resultTable","popularity","status","topCardWrap","topCard","rankCard","leftTopCard","topImageLink","topImage","topCardTitle","topTitleLink","rightTopCard","score","percentWrap","scoreSmile","percent","formatWrap","length","dateWrap","Filters","useState","searchValue","setSearchValue","isSecondaryFilters","setIsSecondaryFilters","history","useHistory","filterUrlQuery","parse","location","search","useEffect","push","pathname","filtersWrap","filters","filter","searchWrap","icon","autoComplete","type","value","onChange","e","target","secondaryFilters","activeFilters","secondaryFiltersIcon","secondFilter","label","onClick","closeIcon","secondaryFiltersFalse","GET_CURRENT_ANIME_TRENDS","gql","FILTER_ANIME","Anime","useQuery","variables","animeLoading","animeError","error","data","useAnimeTrends","useLocation","searchUrlQuery","isFilter","setIsFilter","useLazyQuery","skip","getSearchingAnime","fetchMore","filterAnimeLoading","filterAnimeData","page","sort","useFilter","fetching","setFetching","currentPage","setCurrentPage","Page","pageInfo","hasNextPage","updateQuery","prev","fetchMoreResult","document","addEventListener","scrollHandler","removeEventListener","documentElement","scrollHeight","scrollTop","window","innerHeight","usePagination","anime","searchLanding","total","noResult","GET_USER","User","match","userName","params","slug","userLoading","userError","user","React","console","log","isPath","path","includes","banner","style","backgroundImage","bannerImage","shadow","userContainer","bannerContainer","userBlock","avatar","large","nav","navList","navItem","exact","activeClassName","activeNavLink","navLink","GET_ANIME_PAGE","AnimeTrendPage","replace","Date","currentMonth","getMonth","getFullYear","nextYear","nextSeason","notifyOnNetworkStatusChange","animeTrending","networkStatus","useAnimePage","fetchMoreTrending","isEndPage","setIsEndPage","onPagination","lastPage","usePaginationForPage","pageTitle","disabled","paginationButton","GET_ANIME","AnimePage","useParams","animePageWrap","background","Media","backgroundColor","backgroundPosition","backgroundRepeat","backgroundSize","animePage","coverWrap","animeImg","stats","stat","statTitle","statData","duration","textTransform","meanScore","favourites","source","content","desc","dangerouslySetInnerHTML","__html","description","characterPreview","charsctersWrap","charactersTitle","characters","character","characterWrap","characterImg","characterName","full","actor","actorName","voiceActors","actorImg","component","Header","queryString","stringify","client_id","response_type","useSelector","state","currentUser","isLoading","isAuthorized","dispatch","useDispatch","headerBlock","logo","logoAddition","activeLink","authBlock","medium","backgroundClip","arrow","hanging","userPopup","userPopup_top","userPopup_link","userPopup_bot","localStorage","removeItem","logout","login","href","userAPI","axios","post","JSON","query","headers","getItem","then","res","SET_CURRENT_USER","IS_LOADING","LOGOUT","initialState","about","currentUserReduser","action","payload","Viewer","App","accessToken","hash","access_token","setItem","a","SET_USER","userReducer","redusers","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.49cb45bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"User_banner__R_3kF\",\"shadow\":\"User_shadow__oYOKk\",\"userContainer\":\"User_userContainer__1ZG9q\",\"bannerContainer\":\"User_bannerContainer__3P_6O\",\"userBlock\":\"User_userBlock__2HZIT\",\"avatar\":\"User_avatar__193FA\",\"name\":\"User_name__3hQPR\",\"nav\":\"User_nav__2Os7l\",\"navList\":\"User_navList__3Q9bB\",\"navItem\":\"User_navItem__28oQD\",\"navLink\":\"User_navLink__SdtDm\",\"activeNavLink\":\"User_activeNavLink__R7Wtf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3P6Dw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2SodJ\",\"headerBlock\":\"Header_headerBlock__3RTHi\",\"logo\":\"Header_logo__dq_vG\",\"logoAddition\":\"Header_logoAddition__1ruIy\",\"nav\":\"Header_nav__ljkXo\",\"navList\":\"Header_navList__ZKZKK\",\"navItem\":\"Header_navItem__3ziBt\",\"navLink\":\"Header_navLink__LMNoj\",\"activeLink\":\"Header_activeLink__2kv_t\",\"authBlock\":\"Header_authBlock__3w-NH\",\"search\":\"Header_search__3yC_c\",\"login\":\"Header_login__2JycK\",\"user\":\"Header_user__3ovop\",\"avatar\":\"Header_avatar__Q8gHy\",\"name\":\"Header_name__3wF2C\",\"arrow\":\"Header_arrow__1-sib\",\"userPopup\":\"Header_userPopup__1R0_q\",\"userPopup_top\":\"Header_userPopup_top__3zbgn\",\"userPopup_link\":\"Header_userPopup_link__a8w-I\",\"userPopup_bot\":\"Header_userPopup_bot__rSXYB\",\"logout\":\"Header_logout__2RMU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__zZakW\",\"fade\":\"Card_fade__3Hcdc\",\"details\":\"Card_details__2oLjJ\",\"imageLink\":\"Card_imageLink__3IYqt\",\"cardTitle\":\"Card_cardTitle__3RIDU\",\"image\":\"Card_image__3wUxu\",\"left\":\"Card_left__1mYyP\",\"right\":\"Card_right__19-GY\",\"header\":\"Card_header__2Ic8i\",\"rate\":\"Card_rate__16Unq\",\"date\":\"Card_date__3OtYi\",\"studios\":\"Card_studios__2iIkG\",\"info\":\"Card_info__2KKk1\",\"separator\":\"Card_separator__1yVJT\",\"genre\":\"Card_genre__1LuMs\",\"smile\":\"Card_smile__3EDXv\"};","import React from 'react'\r\n\r\nimport s from './Main.module.sass'\r\n\r\nconst Main = () => {\r\n    return (\r\n        <div className={s.main}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","export const listTitles = (title) => {\r\n    switch (title) {\r\n        case 'trending':\r\n            return 'Trending now'\r\n        case 'season': \r\n            return 'Popular this season'\r\n        case 'nextSeason':\r\n            return 'Upcoming next season'\r\n        case 'popular':\r\n            return 'All time popular'\r\n        case 'top':\r\n            return 'Top 100 anime'\r\n        default:\r\n            return title\r\n    }\r\n}\r\n\r\nexport const listLinks = (title) => {\r\n    switch (title) {\r\n        case 'trending':\r\n            return 'trending'\r\n        case 'season': \r\n            return 'this-season'\r\n        case 'nextSeason':\r\n            return 'next-season'\r\n        case 'popular':\r\n            return 'popular'\r\n        case 'top':\r\n            return 'top-100'\r\n        default:\r\n            return title\r\n    }\r\n}\r\n","export const installRareIcon = (rate, c) => {\r\n    if (rate < 60 ) {\r\n        return <svg className={c} focusable=\"false\"  role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\" color=\"rgb(232,93,117)\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 128c-40.2 0-78 17.7-103.8 48.6-8.5 10.2-7.1 25.3 3.1 33.8 10.2 8.4 25.3 7.1 33.8-3.1 16.6-19.9 41-31.4 66.9-31.4s50.3 11.4 66.9 31.4c8.1 9.7 23.1 11.9 33.8 3.1 10.2-8.5 11.5-23.6 3.1-33.8C326 321.7 288.2 304 248 304z\"></path></svg>\r\n    } else if (60 < rate && rate < 75) {\r\n        return <svg className={c} focusable=\"false\"  role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\" color=\"rgb(247,154,99)\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm8 144H160c-13.2 0-24 10.8-24 24s10.8 24 24 24h176c13.2 0 24-10.8 24-24s-10.8-24-24-24z\"></path></svg>\r\n    } else if (75 < rate && rate < 100) {\r\n        return <svg className={c} focusable=\"false\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\" color=\"rgb(123,213,85)\"><path fill=\"currentColor\" d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z\" ></path></svg>\r\n    } else {\r\n        return <div></div>\r\n    }\r\n}\r\n\r\nexport const listTitles = (title) => {\r\n    switch (title) {\r\n        case 'trending':\r\n            return 'Trending Anime'\r\n        case 'this-season': \r\n            return `Anime This Season`\r\n        case 'next-season':\r\n            return `Anime Next Season`\r\n        case 'popular':\r\n            return 'All-Time Popular Anime'\r\n        case 'top-100':\r\n            return 'Top 100 Anime'\r\n        default:\r\n            return title\r\n    }\r\n}","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { installRareIcon } from '../../utils/utils'\r\n\r\nimport s from './Card.module.sass'\r\n\r\nconst Card = ({url, id, coverImage, title, season, date, averageScore, studios, format, episodes, genres, index}) => {\r\n    return (\r\n        <div className={s.card}>\r\n            <NavLink className={s.imageLink} to={`${url}${id}`}>\r\n                <img className={s.image} src={coverImage.extraLarge} alt={title.english || title.userPreferred}/>\r\n            </NavLink>\r\n            <NavLink className={s.cardTitle} to={`${url}${id}`}>{title.english || title.userPreferred}</NavLink>\r\n            <div className={`${s.details} ${index === 5 ? s.right : s.left}`}>\r\n                <div className={s.header}>\r\n                    <div className={s.date}>{season && season.toLowerCase()} {date}</div>\r\n                    {averageScore && <div className={s.rate}>{installRareIcon(averageScore, s.smile)} {averageScore}%</div>}\r\n                </div>\r\n                <div className={s.studios}>{studios && studios.toLowerCase()}</div>\r\n                <div className={s.info}>\r\n                    <div className={s.format}>{format}</div>\r\n                    <div className={s.separator}>•</div>\r\n                    <div className={s.episodes}>{episodes} episodes</div>\r\n                </div>\r\n                <div className={s.tags}>\r\n                    {\r\n                        genres && genres.map((genre, i) => {\r\n                            if (i < 3) {\r\n                                return <div key={genre} className={s.genre}>{genre}</div>\r\n                            } else {\r\n                                return ''\r\n                            }\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import React from 'react'\r\nimport Skeleton, {SkeletonTheme} from 'react-loading-skeleton'\r\n\r\nimport s from './CardSkeleton.module.sass'\r\n\r\nconst CardSkeleton = () => {\r\n    return (\r\n        <SkeletonTheme color='rgb(221,230,238)'  highlightColor='rgba(8,143,214,.06)'>\r\n            <div className={s.cards}>\r\n                {\r\n                    Array(6).fill().map((item, i) => {\r\n                        return (\r\n                            <div key={i} className={s.card}>\r\n                                <Skeleton width={185} height={250} className={s.image} />\r\n                                <Skeleton width={160} height={15} />\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </SkeletonTheme>\r\n    );\r\n}\r\n\r\nexport default CardSkeleton\r\n","import React from 'react'\r\nimport Skeleton, {SkeletonTheme} from 'react-loading-skeleton'\r\n\r\nimport s from './CardTableSkeleton.module.sass'\r\n\r\nconst CardTableSkeleton = () => {\r\n    return (\r\n        <SkeletonTheme color='rgb(221,230,238)'  highlightColor='rgba(8,143,214,.06)'>\r\n                <div className={s.cards}>\r\n                    {\r\n                        Array(6).fill().map((item, i) => {\r\n                            return(\r\n                                <div key={i} className={s.card}>\r\n                                    <Skeleton width={48} height={60} className={s.image}/>\r\n                                    <Skeleton width={120} height={20} className={s.title}/>\r\n                                    <Skeleton width={90} height={10} className={s.rate}/>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n        </SkeletonTheme>\r\n    );\r\n}\r\n\r\nexport default CardTableSkeleton\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport s from './MediaList.module.sass'\r\nimport { listLinks, listTitles } from './utils'\r\nimport { installRareIcon } from '../../utils/utils'\r\n\r\nimport Card from '../../components/card/Card'\r\nimport CardSkeleton from '../skeleton/card/CardSkeleton'\r\nimport CardTableSkeleton from '../skeleton/cardTable/CardTableSkeleton'\r\n\r\nconst MediaList = ({animeTrends, loading}) => {\r\n    const titles = ['trending', 'season', 'nextSeason', 'popular', 'top']\r\n\r\n    return (\r\n        <>\r\n            {\r\n                titles.map((title, i) => {\r\n                    return (\r\n                        <div key={title} className={`${s.landingSection}`}>\r\n                            <NavLink to={`/search/anime/${listLinks(title)}`} className={s.titleWrap}>\r\n                                <h2 className={s.title}>{listTitles(title)}</h2>\r\n                                <div className={s.expand}>View All</div>\r\n                            </NavLink>\r\n                            <div>\r\n                                {\r\n                                    title !== 'top'\r\n                                    ? ( \r\n                                        <div className={s.results}>\r\n                                            {animeTrends && Object.values(animeTrends)[i].media.map(elem => {\r\n                                            })}\r\n                                            {(loading && <CardSkeleton />) || Object.values(animeTrends)[i].media.map(({id, coverImage, title, averageScore, episodes, genres, season, startDate, studios, format}, i) => {\r\n                                                return (\r\n                                                    <Card key={id} url='/anime/' id={id} coverImage={coverImage} title={title} averageScore={averageScore} episodes={episodes} genres={genres} season={season} date={startDate.year} studios={studios.edges[0].node.name ? studios.edges[0].node.name : ''} format={format} index={i}/>   \r\n                                                )\r\n                                            })}  \r\n                                        </div>\r\n                                    ) \r\n                                    : (\r\n                                        <div className={s.resultTable}>\r\n                                            {(loading && <CardTableSkeleton />) || Object.values(animeTrends)[i].media.map(({id, coverImage, title, genres, averageScore, popularity, format, episodes, startDate, status}, i) => {\r\n                                                return (\r\n                                                    <div key={id} className={s.topCardWrap}>\r\n                                                        <div className={s.topCard}>\r\n                                                            <div className={s.rankCard}>#{i+1}</div>\r\n                                                            <div className={s.leftTopCard}>\r\n                                                                <NavLink className={s.topImageLink} to={`/anime/${id}`}>\r\n                                                                    <img className={s.topImage} src={coverImage.extraLarge} alt={title.english || title.userPreferred}/>\r\n                                                                </NavLink>\r\n                                                                <div className={s.topCardTitle}>\r\n                                                                    <NavLink className={s.topTitleLink} to={`/anime/${id}`}>{title.english || title.userPreferred}</NavLink>\r\n                                                                    <div className={s.genres}>\r\n                                                                        {\r\n                                                                            genres.map(genre => {\r\n                                                                                return <NavLink key={genre} className={s.genre} to={`/anime`}>{genre}</NavLink>\r\n                                                                            })\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className={s.rightTopCard}>\r\n                                                                <div className={s.score}>\r\n                                                                    <div className={s.percentWrap}>\r\n                                                                        {   \r\n                                                                            installRareIcon(averageScore, s.scoreSmile)\r\n                                                                        }\r\n                                                                        <div className={s.percent}>{averageScore}%</div>\r\n                                                                    </div>\r\n                                                                    <div className={s.popularity}>{popularity} users</div>\r\n                                                                </div>\r\n                                                                <div className={s.formatWrap}>\r\n                                                                    <div className={s.format}>{format}</div>\r\n                                                                    <div className={s.length}>{episodes} episodes</div>\r\n                                                                </div>\r\n                                                                <div className={s.dateWrap}>\r\n                                                                    <div className={s.date}>{startDate.year}</div>\r\n                                                                    <div className={s.status}>{status.toLowerCase()}</div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })}  \r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default MediaList\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { parse } from 'query-string'\r\n\r\nimport s from './Filters.module.sass'\r\n\r\nconst Filters = () => {\r\n\r\n    //значение поискового фильтра из query строки\r\n    const [searchValue, setSearchValue] = useState('')\r\n    const [isSecondaryFilters, setIsSecondaryFilters] = useState(false)\r\n\r\n    const history = useHistory()\r\n    const filterUrlQuery = parse(history.location.search)\r\n    \r\n    //установка фильтров из query строки\r\n    useEffect(() => {\r\n\r\n      if (filterUrlQuery.search) {\r\n        setSearchValue(filterUrlQuery.search)\r\n      }\r\n\r\n    }, [filterUrlQuery.search])\r\n\r\n    useEffect(() => {\r\n      if (!searchValue) {\r\n        setIsSecondaryFilters(false)\r\n        history.push({\r\n          pathname: history.pathname\r\n        })\r\n        return \r\n      }\r\n      setIsSecondaryFilters(true)\r\n      history.push({\r\n        search: `?search=${searchValue}`\r\n      })\r\n    }, [searchValue, history])\r\n    \r\n    const onSearchValue = (e) => {\r\n      setSearchValue(e.target.value)\r\n    }\r\n\r\n    //удаление поискового тэга из доп. панели фильтров\r\n    const deleteSearchFilter = () => {\r\n      setSearchValue('')\r\n    }\r\n\r\n    //удаление genres тэга из доп. панели фильтров\r\n    // const deleteActiveTagFilter = (tag) => {\r\n    //   if (activeTags.includes(tag)){\r\n    //     //определение порядкового индекса тэга в массиве всех тэгов по его значению\r\n    //     let indexOfTheClikedTag = [...getFiltersData.genres, ...getFiltersData.tags].indexOf(tag)\r\n\r\n    //     setActiveTags(activeTags.filter(g => g !== tag))\r\n    //     setOptionNumber(optionNumber.filter(n => n !== indexOfTheClikedTag))\r\n    //   }\r\n    // }\r\n    \r\n    //переключатель(вкл/выкл) Genre фильтра\r\n    // const activeOption = (genre, i) => {\r\n    //   if (activeTags.includes(genre)) {\r\n    //     setActiveTags(activeTags.filter(g => g !== genre))\r\n    //     setOptionNumber(optionNumber.filter(n => n !== i))\r\n    //     return \r\n    //   } \r\n\r\n    //   setActiveTags([...activeTags, genre])\r\n    //   setOptionNumber([...optionNumber, i])\r\n    // }\r\n    \r\n    //переключатель(вкл/выкл) для списка Genres\r\n    // const activeOptionList = () => {\r\n    //   setIsOptionList(!isOptionList)\r\n    // }\r\n    \r\n    //добавление классов для списка опшинов Genres\r\n    // const optionsClasses = cn({\r\n    //   [s.options]: true,\r\n    //   [s.optionsActive]: isOptionList\r\n    // })\r\n    \r\n    return (\r\n      <div className={s.filtersWrap}>\r\n        <div className={s.filters}>\r\n          <div className={s.filter}>\r\n            <div className={s.name}>Search</div>\r\n            <div className={s.searchWrap}>\r\n              <svg\r\n                focusable=\"false\"\r\n                role=\"img\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 512 512\"\r\n                className={s.icon}\r\n              >\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\r\n                ></path>\r\n              </svg>\r\n              <input autoComplete=\"off\" type=\"search\" className={s.search} value={searchValue} onChange={onSearchValue}/>\r\n            </div>\r\n          </div>\r\n          {/* <div className={s.filter}>\r\n            <div className={s.name}>Genres</div>\r\n            <div className={s.selectWrap}>\r\n              <div className={s.select} onClick={activeOptionList}>\r\n                <div className={s.valueWrap}>\r\n                  {\r\n                    activeTags.length ? (\r\n                      <div className={s.tags}>\r\n                        <div className={s.tag}>{activeTags[0]}</div>\r\n                        {\r\n                          activeTags.length > 1 && (\r\n                            <div className={s.tag}>+{activeTags.length - 1}</div>\r\n                          )\r\n                        }\r\n                      </div>\r\n                    )\r\n                    : (\r\n                      <div className={s.placeholder}>Any</div>\r\n                    )\r\n                  }\r\n                </div>\r\n                <svg className={s.selectIcon} role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" ><path fill=\"currentColor\" d=\"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z\" ></path></svg>             \r\n              </div>\r\n              <div className={s.options}>\r\n                <section className={s.scrollWrap}>\r\n                  <div className={s.optionGroup}>\r\n                    <div className={s.optionTitle}>Genres</div>\r\n                    {\r\n                      getFiltersLoading ? <div>Loading...(Filter)</div> \r\n                      : ( \r\n                        getFiltersData.genres.map((genre, i) => {\r\n                          return(\r\n                            <div onClick={() => activeOption(genre, i)} className={s.option} key={genre}>\r\n                              <div className={s.optionLabel}>\r\n                                <div className={s.optionName}>{genre}</div>\r\n                                \r\n                                <div className={`${s.selectedIconWrap} ${optionNumber.includes(i) ? s.optionActive : ''} `}>\r\n                                  <svg className={s.selectedIcon} focusable=\"false\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\" ></path></svg>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                        })\r\n                      )\r\n                    }\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            </div>\r\n          </div>*/}\r\n        </div> \r\n        { isSecondaryFilters ? (\r\n            <div className={s.secondaryFilters}>\r\n                <div className={s.activeFilters}>\r\n                    <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 640 512\"\r\n                    className={s.secondaryFiltersIcon}\r\n                    >\r\n                    <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z\"\r\n                    ></path>\r\n                    </svg>\r\n                    { searchValue && (\r\n                        <div className={s.secondFilter}>\r\n                            <span className={s.label}>Search: {searchValue}</span>\r\n                            <svg onClick={deleteSearchFilter} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\" className={s.closeIcon}><path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path></svg>\r\n                        </div>\r\n                    )}\r\n                    {/* {\r\n                      activeTags && (\r\n                        activeTags.map(tag => {\r\n                          return (\r\n                            <div className={s.secondFilter} key={tag}>\r\n                              <span className={s.label}>{tag}</span>\r\n                              <svg onClick={() => deleteActiveTagFilter(tag)} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\" className={s.closeIcon}><path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path></svg>\r\n                            </div>\r\n                          )\r\n                        })\r\n                      )\r\n                    } */}\r\n                </div>\r\n            </div>\r\n        )\r\n        : (\r\n          <div className={s.secondaryFiltersFalse}></div>\r\n        )\r\n      }\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Filters\r\n","import {gql} from '@apollo/client'\r\n\r\nexport const GET_CURRENT_ANIME_TRENDS = gql`\r\nquery GetAnimeMedia($season: MediaSeason, $seasonYear: Int, $nextSeason: MediaSeason, $nextYear: Int) {\r\n    trending: Page(page: 1, perPage: 6) {\r\n      media(sort: TRENDING_DESC, type: ANIME, isAdult: false) {\r\n        ...media\r\n      }\r\n    }\r\n    season: Page(page: 1, perPage: 6) {\r\n      media(season: $season, seasonYear: $seasonYear, sort: POPULARITY_DESC, type: ANIME, isAdult: false) {\r\n        ...media\r\n      }\r\n    }\r\n    nextSeason: Page(page: 1, perPage: 6) {\r\n      media(season: $nextSeason, seasonYear: $nextYear, sort: POPULARITY_DESC, type: ANIME, isAdult: false) {\r\n        ...media\r\n      }\r\n    }\r\n    popular: Page(page: 1, perPage: 6) {\r\n      media(sort: POPULARITY_DESC, type: ANIME, isAdult: false) {\r\n        ...media\r\n      }\r\n    }\r\n    top: Page(page: 1, perPage: 10) {\r\n      media(sort: SCORE_DESC, type: ANIME, isAdult: false) {\r\n        ...media\r\n      }\r\n    }\r\n  }\r\n  \r\n  fragment media on Media {\r\n    id\r\n    title {\r\n      userPreferred\r\n      english\r\n    }\r\n    coverImage {\r\n      extraLarge\r\n      large\r\n      color\r\n    }\r\n    startDate {\r\n      year\r\n      month\r\n      day\r\n    }\r\n    endDate {\r\n      year\r\n      month\r\n      day\r\n    }\r\n    bannerImage\r\n    season\r\n    description\r\n    type\r\n    format\r\n    status(version: 2)\r\n    episodes\r\n    duration\r\n    chapters\r\n    volumes\r\n    genres\r\n    isAdult\r\n    averageScore\r\n    popularity\r\n    mediaListEntry {\r\n      id\r\n      status\r\n    }\r\n    nextAiringEpisode {\r\n      airingAt\r\n      timeUntilAiring\r\n      episode\r\n    }\r\n    studios(isMain: true) {\r\n      edges {\r\n        isMain\r\n        node {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n   `\r\n\r\n\r\n","import {gql} from '@apollo/client'\r\n\r\nexport const FILTER_ANIME = gql`\r\nquery ($page: Int = 1, $id: Int, $type: MediaType, $isAdult: Boolean = false, $search: String, $format: [MediaFormat], $status: MediaStatus, $countryOfOrigin: CountryCode, $source: MediaSource, $season: MediaSeason, $seasonYear: Int, $year: String, $onList: Boolean, $yearLesser: FuzzyDateInt, $yearGreater: FuzzyDateInt, $episodeLesser: Int, $episodeGreater: Int, $durationLesser: Int, $durationGreater: Int, $chapterLesser: Int, $chapterGreater: Int, $volumeLesser: Int, $volumeGreater: Int, $licensedBy: [String], $genres: [String], $excludedGenres: [String], $tags: [String], $excludedTags: [String], $minimumTagRank: Int, $sort: [MediaSort] = [POPULARITY_DESC, SCORE_DESC]) {\r\n    Page(page: $page, perPage: 20) {\r\n      pageInfo {\r\n        total\r\n        perPage\r\n        currentPage\r\n        lastPage\r\n        hasNextPage\r\n      }\r\n      media(id: $id, type: $type, season: $season, format_in: $format, status: $status, countryOfOrigin: $countryOfOrigin, source: $source, search: $search, onList: $onList, seasonYear: $seasonYear, startDate_like: $year, startDate_lesser: $yearLesser, startDate_greater: $yearGreater, episodes_lesser: $episodeLesser, episodes_greater: $episodeGreater, duration_lesser: $durationLesser, duration_greater: $durationGreater, chapters_lesser: $chapterLesser, chapters_greater: $chapterGreater, volumes_lesser: $volumeLesser, volumes_greater: $volumeGreater, licensedBy_in: $licensedBy, genre_in: $genres, genre_not_in: $excludedGenres, tag_in: $tags, tag_not_in: $excludedTags, minimumTagRank: $minimumTagRank, sort: $sort, isAdult: $isAdult) {\r\n        id\r\n        title {\r\n          userPreferred\r\n          english\r\n        }\r\n        coverImage {\r\n          extraLarge\r\n          large\r\n          color\r\n        }\r\n        startDate {\r\n          year\r\n          month\r\n          day\r\n        }\r\n        endDate {\r\n          year\r\n          month\r\n          day\r\n        }\r\n        bannerImage\r\n        season\r\n        description\r\n        type\r\n        format\r\n        status(version: 2)\r\n        episodes\r\n        duration\r\n        chapters\r\n        volumes\r\n        genres\r\n        isAdult\r\n        averageScore\r\n        popularity\r\n        nextAiringEpisode {\r\n          airingAt\r\n          timeUntilAiring\r\n          episode\r\n        }\r\n        mediaListEntry {\r\n          id\r\n          status\r\n        }\r\n        studios(isMain: true) {\r\n          edges {\r\n            isMain\r\n            node {\r\n              id\r\n              name\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }`\r\n","import React from 'react'\r\n\r\nimport s from './Anime.module.sass'\r\n\r\nimport MediaList from '../../components/mediaList/MediaList'\r\nimport Filters from '../../components/filters/Filters'\r\nimport Card from '../../components/card/Card'\r\nimport { useAnimeTrends } from '../../hooks/useAnimeTrends'\r\nimport { useFilter } from '../../hooks/useFilter'\r\nimport { usePagination } from '../../hooks/usePagination'\r\nimport CardSkeleton from '../../components/skeleton/card/CardSkeleton'\r\n\r\nconst Anime = () => {\r\n    \r\n    //получение текущих аниме трендов\r\n    const { animeLoading, animeError, animeTrends } = useAnimeTrends()\r\n\r\n    //получение методов для фильтрации и фильрованных данных\r\n    const [ fetchMore, filterAnimeLoading, filterAnimeData, isFilter ] = useFilter()\r\n  \r\n    //пагинация\r\n    usePagination(filterAnimeData, isFilter, fetchMore)\r\n    \r\n    if(animeError) return <div>Some error happend...</div>\r\n    \r\n    return (\r\n      <div className={s.anime}>\r\n        <div className=\"container\">\r\n          <Filters />\r\n          <div className={s.searchLanding}>\r\n              {\r\n                isFilter \r\n                ? (\r\n                    <>\r\n                    <div className={s.results}>\r\n                      {filterAnimeLoading && <CardSkeleton /> || filterAnimeData && filterAnimeData.Page.media.map(({id, coverImage, title, averageScore, episodes, genres, season, startDate, studios, format}, i) => {\r\n                          return (\r\n                            <Card key={id} url='/anime/' coverImage={coverImage} title={title} averageScore={averageScore} episodes={episodes} genres={genres} season={season} date={startDate.year} studios={studios.edges[0] ? studios.edges[0].node.name : ''} format={format} index={i}/>\r\n                          )\r\n                        })\r\n                      }\r\n                    </div>\r\n                    {filterAnimeData && (!filterAnimeData.Page.pageInfo.total && <div className={s.noResult}>No Results</div>)}\r\n                    </>\r\n                ) \r\n                : (\r\n                  <MediaList animeTrends={animeTrends} loading={animeLoading}/>\r\n                )\r\n              }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Anime\r\n  \r\n  {/* <div className={s.animeBanner}>\r\n    <div className={s.animeBannerShadow}></div>\r\n  </div> */}","import { useQuery } from '@apollo/client'\r\n\r\nimport { GET_CURRENT_ANIME_TRENDS } from '../graphql/queries/getCurrentAnimeTrends'\r\n\r\nexport const useAnimeTrends = () => {\r\n    const {loading: animeLoading, error: animeError, data: animeTrends} = useQuery(GET_CURRENT_ANIME_TRENDS, {\r\n        variables: {\r\n            \"type\": \"ANIME\",\r\n            \"season\": \"SPRING\",\r\n            \"seasonYear\": 2021,\r\n            \"nextSeason\": \"SUMMER\",\r\n            \"nextYear\": 2021\r\n        }\r\n    })\r\n\r\n    return {animeLoading, animeError, animeTrends}\r\n}","import { useState, useEffect } from 'react'\r\nimport { useLazyQuery } from '@apollo/client'\r\nimport { parse } from 'query-string'\r\nimport { useLocation } from 'react-router'\r\n\r\nimport { FILTER_ANIME } from '../graphql/queries/filterAnime'\r\n\r\nexport const useFilter = (search) => {\r\n    const location = useLocation()\r\n    //фильтры из query запроса поисковой строки\r\n    const searchUrlQuery = parse(location.search)\r\n\r\n    //переключатель для блока с трендами и фильтрованными данными\r\n    const [isFilter, setIsFilter] = useState(false)\r\n    \r\n    const [getSearchingAnime, {fetchMore, loading: filterAnimeLoading, data: filterAnimeData }] = useLazyQuery(FILTER_ANIME, {\r\n        skip: !!searchUrlQuery.search\r\n    })\r\n\r\n    //получение данных с сервера и включение|выключение блока с полученными данными\r\n    useEffect(() => {\r\n        if(searchUrlQuery.search) {\r\n          getSearchingAnime({\r\n                variables: {\r\n                page: 1,\r\n                type: \"ANIME\",\r\n                search: searchUrlQuery.search,\r\n                sort: \"SEARCH_MATCH\"\r\n                }\r\n            })\r\n            setIsFilter(true)\r\n        } else {\r\n            setIsFilter(false) \r\n        }\r\n      }, [searchUrlQuery.search])\r\n\r\n    return [fetchMore && fetchMore, filterAnimeLoading, filterAnimeData, isFilter]\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { useLocation } from 'react-router-dom'\r\nimport { parse } from 'query-string'\r\n\r\nexport const usePagination = (filterAnimeData, isFilter, fetchMore) => {\r\n\r\n    const location = useLocation()\r\n    //фильтры из query запроса поисковой строки\r\n    const searchUrlQuery = parse(location.search)\r\n\r\n    //переключатель для получения новой порции данных\r\n    const [fetching, setFetching] = useState(false)\r\n    //текущая страница\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    //пагинация\r\n    useEffect( () => {\r\n        if (fetching && isFilter) {\r\n          if (filterAnimeData && filterAnimeData.Page.pageInfo.hasNextPage){\r\n            fetchMore({\r\n              variables: {\r\n                page: currentPage + 1,\r\n                type: \"ANIME\",\r\n                search: searchUrlQuery.search,\r\n                sort: \"SEARCH_MATCH\"\r\n              },\r\n              updateQuery: (prev, {fetchMoreResult}) => {\r\n                fetchMoreResult.Page.media = [\r\n                  ...prev.Page.media,\r\n                  ...fetchMoreResult.Page.media\r\n                ]\r\n                return fetchMoreResult\r\n              }\r\n            })\r\n            setCurrentPage(prev => prev + 1)\r\n          } else {\r\n            setCurrentPage(1)\r\n          }\r\n          setFetching(false)\r\n        }\r\n    }, [fetching, isFilter])\r\n\r\n    //слушатель на скролл(для пагинации)\r\n    useEffect(() => {\r\n        if (isFilter) {\r\n          document.addEventListener('scroll', scrollHandler)\r\n        }\r\n        return () => {\r\n          document.removeEventListener('scroll', scrollHandler)\r\n        }\r\n      }, [isFilter])\r\n  \r\n      //отслеживание скрола и переключатель пагенации\r\n      const scrollHandler = (e) => {\r\n          if(e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100) {\r\n              setFetching(true) \r\n          }\r\n      }\r\n}","import {gql} from '@apollo/client'\r\n\r\nexport const GET_USER = gql`\r\nquery GetUser($name: String) {\r\n    User(name: $name) {\r\n        id\r\n        name\r\n        bannerImage\r\n        avatar {\r\n            medium\r\n            large\r\n        }\r\n        about\r\n    }\r\n} `\r\n","import React from 'react'\r\nimport s from './User.module.sass'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useQuery } from '@apollo/client'\r\n\r\nimport { GET_USER } from '../../graphql/queries/getUser'\r\nimport Overview from './overview/Overview'\r\n\r\nconst User = ({match, location}) => {\r\n    const userName = match.params.slug\r\n    const { loading: userLoading, error: userError, data: {User: user = {}} = {}} = useQuery( GET_USER, {\r\n        variables: { \r\n            name: userName\r\n        }\r\n    })\r\n\r\n    \r\n    React.useEffect(() => {\r\n        // dispatch(getUser(userName))\r\n    }, [userName])\r\n        \r\n        \r\n        if (userLoading) return null\r\n        if (userError) return <div>Some error happend...</div>\r\n        \r\n        console.log(user)\r\n    const isPath = (path) => {\r\n        if (location.pathname.includes(path)) {\r\n            return true\r\n        } \r\n        return false\r\n    }\r\n\r\n    return (\r\n        <div className={s.User}>\r\n            \r\n            <div className={s.banner} style={{backgroundImage: user.bannerImage ? `url(${user.bannerImage})` : null}}>\r\n                <div className={s.shadow}></div>\r\n                <div className={`container ${s.userContainer}`}>\r\n                    <div className={s.bannerContainer}>\r\n                        <div className={s.userBlock}>\r\n                            <img className={s.avatar} src={user.avatar &&(user.avatar.large)}  alt=\"\"/>\r\n                            <h2 className={s.name}>{user.name}</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={s.nav}>\r\n                <ul className={s.navList}>\r\n                    <li className={s.navItem}>\r\n                        <NavLink exact activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}`}>Overview</NavLink>\r\n                    </li>\r\n                    <li className={s.navItem}>\r\n                        <NavLink activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}/animelist`}>Anime List</NavLink>\r\n                    </li>\r\n                    <li className={s.navItem}>\r\n                        <NavLink activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}/mangalist`}>Manga List</NavLink>\r\n                    </li>\r\n                    <li className={s.navItem}>\r\n                        <NavLink activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}/favorites`}>Favorites</NavLink>\r\n                    </li>\r\n                    <li className={s.navItem}>\r\n                        <NavLink activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}/stats`}>Stats</NavLink>\r\n                    </li>\r\n                    <li className={s.navItem}>\r\n                        <NavLink activeClassName={s.activeNavLink} className={s.navLink} to={`/user/${userName}/social`}>Social</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            {\r\n               location.pathname === `/user/${userName}` && (\r\n                <div>\r\n                    1\r\n                    {/* <Overview about={user.about}/> */}\r\n                </div>\r\n               )\r\n            }\r\n            {\r\n               isPath('animelist') && (\r\n                <div>\r\n                    2\r\n                </div>\r\n               )\r\n            }\r\n            {\r\n               isPath('mangalist') && (\r\n                <div>\r\n                    3\r\n                </div>\r\n               )\r\n            }\r\n            {\r\n               isPath('favorites') && (\r\n                <div>\r\n                    4\r\n                </div>\r\n               )\r\n            }\r\n            {\r\n               isPath('stats') && (\r\n                <div>\r\n                    5\r\n                </div>\r\n               )\r\n            }\r\n            {\r\n               isPath('social') && (\r\n                <div>\r\n                    6\r\n                </div>\r\n               )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import {gql} from '@apollo/client'\r\n\r\n\r\nexport const GET_ANIME_PAGE = gql`\r\nquery ($page: Int = 1, $id: Int, $type: MediaType, $isAdult: Boolean = false, $search: String, $format: [MediaFormat], $status: MediaStatus, $countryOfOrigin: CountryCode, $source: MediaSource, $season: MediaSeason, $seasonYear: Int, $year: String, $onList: Boolean, $yearLesser: FuzzyDateInt, $yearGreater: FuzzyDateInt, $episodeLesser: Int, $episodeGreater: Int, $durationLesser: Int, $durationGreater: Int, $chapterLesser: Int, $chapterGreater: Int, $volumeLesser: Int, $volumeGreater: Int, $licensedBy: [String], $genres: [String], $excludedGenres: [String], $tags: [String], $excludedTags: [String], $minimumTagRank: Int, $sort: [MediaSort] = [POPULARITY_DESC, SCORE_DESC]) {\r\n  Page(page: $page, perPage: 20) {\r\n    pageInfo {\r\n      total\r\n      perPage\r\n      currentPage\r\n      lastPage\r\n      hasNextPage\r\n    }\r\n    media(id: $id, type: $type, season: $season, format_in: $format, status: $status, countryOfOrigin: $countryOfOrigin, source: $source, search: $search, onList: $onList, seasonYear: $seasonYear, startDate_like: $year, startDate_lesser: $yearLesser, startDate_greater: $yearGreater, episodes_lesser: $episodeLesser, episodes_greater: $episodeGreater, duration_lesser: $durationLesser, duration_greater: $durationGreater, chapters_lesser: $chapterLesser, chapters_greater: $chapterGreater, volumes_lesser: $volumeLesser, volumes_greater: $volumeGreater, licensedBy_in: $licensedBy, genre_in: $genres, genre_not_in: $excludedGenres, tag_in: $tags, tag_not_in: $excludedTags, minimumTagRank: $minimumTagRank, sort: $sort, isAdult: $isAdult) {\r\n      id\r\n      title {\r\n        userPreferred\r\n      }\r\n      coverImage {\r\n        extraLarge\r\n        large\r\n        color\r\n      }\r\n      startDate {\r\n        year\r\n        month\r\n        day\r\n      }\r\n      endDate {\r\n        year\r\n        month\r\n        day\r\n      }\r\n      bannerImage\r\n      season\r\n      description\r\n      type\r\n      format\r\n      status(version: 2)\r\n      episodes\r\n      duration\r\n      chapters\r\n      volumes\r\n      genres\r\n      isAdult\r\n      averageScore\r\n      popularity\r\n      nextAiringEpisode {\r\n        airingAt\r\n        timeUntilAiring\r\n        episode\r\n      }\r\n      mediaListEntry {\r\n        id\r\n        status\r\n      }\r\n      studios(isMain: true) {\r\n        edges {\r\n          isMain\r\n          node {\r\n            id\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}  \r\n`","import React from 'react'\r\n\r\nimport s from '../Anime.module.sass'\r\n\r\nimport Card from '../../../components/card/Card'\r\nimport { usePaginationForPage } from '../../../hooks/usePaginationForPage'\r\nimport { useAnimePage } from '../../../hooks/useAnimePage'\r\nimport { listTitles } from '../../../utils/utils'\r\n\r\nconst AnimeTrendPage = () => {\r\n\r\n    //получение текущих трендов \r\n    const { animeLoading, animeError, animeTrending, fetchMore: fetchMoreTrending, title, value } = useAnimePage()\r\n\r\n\r\n    //пагинация\r\n    const {onPagination, isEndPage} = usePaginationForPage(animeTrending, fetchMoreTrending, value)\r\n\r\n    return (\r\n        <div className={s.anime}>\r\n        <div className=\"container\">\r\n          <h2 className={s.pageTitle}>{listTitles(title)}</h2>\r\n          <div className={s.searchLanding}>\r\n              <>\r\n                <div className={s.results}>\r\n                  {animeTrending && animeTrending.Page.media.map(({id, coverImage, title, averageScore, episodes, genres, season, startDate, studios, format}, i) => {\r\n                      return (\r\n                          <Card key={id} url='/anime/' coverImage={coverImage} title={title} averageScore={averageScore} episodes={episodes} genres={genres} season={season} date={startDate.year} studios={studios.edges[0] && studios.edges[0].node.name} format={format} index={i}/>\r\n                      )\r\n                    })\r\n                  }\r\n                </div>\r\n                {\r\n                  !isEndPage && <button onClick={onPagination} disabled={animeLoading} className={s.paginationButton}>{animeLoading  ? 'Loading...' : 'Load more'}</button>\r\n                }\r\n              </>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default AnimeTrendPage\r\n","import { useQuery } from '@apollo/client'\r\nimport { useHistory } from 'react-router'\r\n\r\nimport { GET_ANIME_PAGE } from '../graphql/queries/getAnimePage'\r\n\r\nexport const useAnimePage = () => {\r\n\r\n    let value = {}\r\n    let history = useHistory()\r\n    let pathname = history.location.pathname\r\n    let title = pathname.replace('/search/anime/', '')\r\n\r\n    //определение текущего сезона\r\n    let date = new Date()\r\n    let currentMonth = date.getMonth() + 1\r\n    let season = ''\r\n    if (currentMonth >= 0 && currentMonth <=3) {\r\n      season = 'WINTER'\r\n    } else if (currentMonth >= 4 && currentMonth <= 6) {\r\n      season = 'SPRING'\r\n    } else if (currentMonth >= 7 && currentMonth <= 9) {\r\n      season = 'SUMMER'\r\n    } else if (currentMonth >= 10 && currentMonth <= 12) {\r\n      season = 'FALL'\r\n    }\r\n\r\n    //определение текущей страницы\r\n    if (pathname.includes('trending')) {\r\n      value = {\r\n        \"page\": 1,\r\n          \"type\": \"ANIME\",\r\n          \"sort\": [\r\n            \"TRENDING_DESC\",\r\n            \"POPULARITY_DESC\"\r\n          ]\r\n      }\r\n    } else if (pathname.includes('this-season')) {\r\n      value = {\r\n        \"page\": 1,\r\n        \"type\": \"ANIME\",\r\n        \"seasonYear\": date.getFullYear(),\r\n        \"season\": season\r\n      }\r\n    } else if (pathname.includes('next-season')) {\r\n      let nextYear = date.getFullYear()\r\n      let nextSeason = ''\r\n\r\n      //определение следующего сезона\r\n      if (season === 'WINTER') {\r\n        nextSeason = 'SPRING'\r\n      } else if (season === 'SPRING') {\r\n        nextSeason = 'SUMMER'\r\n      } else if (season === 'SUMMER') {\r\n        nextSeason = 'FALL'\r\n      } else if (season === 'FALL') {\r\n        nextSeason = 'WINTER'\r\n        nextYear = date.getFullYear() + 1\r\n      }\r\n\r\n      value = {\r\n        \"page\": 1,\r\n        \"type\": \"ANIME\",\r\n        \"seasonYear\": nextYear,\r\n        \"season\": nextSeason\r\n      }\r\n    } else if (pathname.includes('popular')) {\r\n      value = {\r\n        \"page\": 1,\r\n        \"type\": \"ANIME\",\r\n        \"sort\": \"POPULARITY_DESC\"\r\n      }\r\n    } else if (pathname.includes('top-100')) {\r\n      value = {\r\n        \"page\": 1,\r\n        \"type\": \"ANIME\",\r\n        \"sort\": \"SCORE_DESC\"\r\n      }\r\n    }\r\n\r\n    const {loading: animeLoading, error: animeError, data: animeTrending, fetchMore, networkStatus} = useQuery(GET_ANIME_PAGE, {\r\n        variables: value,\r\n        notifyOnNetworkStatusChange: true\r\n    })\r\n\r\n    return {animeLoading, animeError, animeTrending, fetchMore, title, value}\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport const usePaginationForPage = (filterAnimeData, fetchMore, value) => {\r\n\r\n    //переключатель для получения новой порции данных\r\n    const [fetching, setFetching] = useState(false)\r\n    const [isEndPage, setIsEndPage] = useState(false)\r\n\r\n    //текущая страница\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    //пагинация\r\n    useEffect( () => {\r\n        if (fetching) {\r\n          if (filterAnimeData && filterAnimeData.Page.pageInfo.hasNextPage){\r\n            fetchMore({\r\n              variables: {\r\n                ...value,\r\n                page: currentPage + 1\r\n              },\r\n              updateQuery: (prev, {fetchMoreResult}) => {\r\n                fetchMoreResult.Page.media = [\r\n                  ...prev.Page.media,\r\n                  ...fetchMoreResult.Page.media\r\n                ]\r\n                return fetchMoreResult\r\n              }\r\n            })\r\n            setCurrentPage(prev => prev + 1)\r\n            setFetching(false)\r\n          } else {\r\n            setCurrentPage(1)\r\n          }\r\n        }\r\n    }, [fetching])\r\n\r\n      const onPagination = () => {\r\n        setFetching(true)\r\n        if (filterAnimeData && filterAnimeData.Page.pageInfo.currentPage + 1 === filterAnimeData.Page.pageInfo.lastPage){\r\n          setIsEndPage(true)\r\n        }\r\n      }\r\n\r\n      return {onPagination, isEndPage}\r\n}","import {gql} from '@apollo/client'\r\n\r\nexport const GET_ANIME = gql`\r\nquery media($id: Int, $type: MediaType, $isAdult: Boolean) {\r\n  Media(id: $id, type: $type, isAdult: $isAdult) {\r\n    id\r\n    title {\r\n      userPreferred\r\n      romaji\r\n      english\r\n      native\r\n    }\r\n    coverImage {\r\n      extraLarge\r\n      large\r\n    }\r\n    bannerImage\r\n    startDate {\r\n      year\r\n      month\r\n      day\r\n    }\r\n    endDate {\r\n      year\r\n      month\r\n      day\r\n    }\r\n    description\r\n    season\r\n    seasonYear\r\n    type\r\n    format\r\n    status(version: 2)\r\n    episodes\r\n    duration\r\n    chapters\r\n    volumes\r\n    genres\r\n    synonyms\r\n    source(version: 2)\r\n    isAdult\r\n    isLocked\r\n    meanScore\r\n    averageScore\r\n    popularity\r\n    favourites\r\n    hashtag\r\n    countryOfOrigin\r\n    isLicensed\r\n    isFavourite\r\n    isRecommendationBlocked\r\n    nextAiringEpisode {\r\n      airingAt\r\n      timeUntilAiring\r\n      episode\r\n    }\r\n    relations {\r\n      edges {\r\n        id\r\n        relationType(version: 2)\r\n        node {\r\n          id\r\n          title {\r\n            userPreferred\r\n          }\r\n          format\r\n          type\r\n          status(version: 2)\r\n          bannerImage\r\n          coverImage {\r\n            large\r\n          }\r\n        }\r\n      }\r\n    }\r\n    characterPreview: characters(perPage: 6, sort: [ROLE, RELEVANCE, ID]) {\r\n      edges {\r\n        id\r\n        role\r\n        name\r\n        voiceActors(language: JAPANESE, sort: [RELEVANCE, ID]) {\r\n          id\r\n          name {\r\n            full\r\n          }\r\n          language: languageV2\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        node {\r\n          id\r\n          name {\r\n            full\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n      }\r\n    }\r\n    staffPreview: staff(perPage: 8, sort: [RELEVANCE, ID]) {\r\n      edges {\r\n        id\r\n        role\r\n        node {\r\n          id\r\n          name {\r\n            full\r\n          }\r\n          language: languageV2\r\n          image {\r\n            large\r\n          }\r\n        }\r\n      }\r\n    }\r\n    studios {\r\n      edges {\r\n        isMain\r\n        node {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n    reviewPreview: reviews(perPage: 2, sort: [RATING_DESC, ID]) {\r\n      pageInfo {\r\n        total\r\n      }\r\n      nodes {\r\n        id\r\n        summary\r\n        rating\r\n        ratingAmount\r\n        user {\r\n          id\r\n          name\r\n          avatar {\r\n            large\r\n          }\r\n        }\r\n      }\r\n    }\r\n    recommendations(perPage: 7, sort: [RATING_DESC, ID]) {\r\n      pageInfo {\r\n        total\r\n      }\r\n      nodes {\r\n        id\r\n        rating\r\n        userRating\r\n        mediaRecommendation {\r\n          id\r\n          title {\r\n            userPreferred\r\n          }\r\n          format\r\n          type\r\n          status(version: 2)\r\n          bannerImage\r\n          coverImage {\r\n            large\r\n          }\r\n        }\r\n        user {\r\n          id\r\n          name\r\n          avatar {\r\n            large\r\n          }\r\n        }\r\n      }\r\n    }\r\n    externalLinks {\r\n      site\r\n      url\r\n    }\r\n    streamingEpisodes {\r\n      site\r\n      title\r\n      thumbnail\r\n      url\r\n    }\r\n    trailer {\r\n      id\r\n      site\r\n    }\r\n    rankings {\r\n      id\r\n      rank\r\n      type\r\n      format\r\n      year\r\n      season\r\n      allTime\r\n      context\r\n    }\r\n    tags {\r\n      id\r\n      name\r\n      description\r\n      rank\r\n      isMediaSpoiler\r\n      isGeneralSpoiler\r\n    }\r\n    mediaListEntry {\r\n      id\r\n      status\r\n      score\r\n    }\r\n    stats {\r\n      statusDistribution {\r\n        status\r\n        amount\r\n      }\r\n      scoreDistribution {\r\n        score\r\n        amount\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n`","import { useQuery } from '@apollo/client'\r\nimport React from 'react'\r\n\r\nimport s from './AnimePage.module.sass'\r\n\r\nimport {GET_ANIME} from '../../graphql/queries/getAnime'\r\nimport { useParams } from 'react-router'\r\n\r\nconst AnimePage = () => {\r\n\r\n    const params = useParams()\r\n\r\n    const {loading, error, data} = useQuery(GET_ANIME, {\r\n        variables: {\r\n            id: params.slug,\r\n            type: 'ANIME'\r\n        }\r\n    })\r\n\r\n    if (loading) return null\r\n\r\n    return (\r\n        <div className={s.animePageWrap}>\r\n            <div className={s.banner} style={{background: `url(${data.Media.bannerImage})`, backgroundColor: '#fff', backgroundPosition: '50% 35%', backgroundRepeat: 'no-repeat' , backgroundSize: 'cover'}}>\r\n                {\r\n                    data.Media.bannerImage && <div className={s.shadow}></div>\r\n                } \r\n            </div>\r\n            <div className=\"container\">\r\n                <div className={s.animePage}>\r\n                    <div className={s.coverWrap}>\r\n                        <img src={data.Media.coverImage.extraLarge} alt=\"\" className={s.animeImg} />\r\n                        <div className={s.stats}>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Format</div>\r\n                                <div className={s.statData}>{data.Media.format}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Episode Duration</div>\r\n                                <div className={s.statData}>{data.Media.duration}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Status</div>\r\n                                <div className={s.statData} style={{textTransform: 'capitalize'}}>{data.Media.status.toLowerCase()}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Start Date</div>\r\n                                <div className={s.statData}>{data.Media.startDate.year}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Season</div>\r\n                                <div className={s.statData} style={{textTransform: 'capitalize'}}>{data.Media.season.toLowerCase()}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Average Score</div>\r\n                                <div className={s.statData}>{data.Media.averageScore}%</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Mean Score</div>\r\n                                <div className={s.statData}>{data.Media.meanScore}%</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Popularity</div>\r\n                                <div className={s.statData}>{data.Media.popularity}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Favorites</div>\r\n                                <div className={s.statData}>{data.Media.favourites}</div>\r\n                            </div>\r\n                            <div className={s.stat}>\r\n                                <div className={s.statTitle}>Source</div>\r\n                                <div className={s.statData} style={{textTransform: 'capitalize'}}>{data.Media.source.toLowerCase()}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.content}>\r\n                        <h4 className={s.title}>{data.Media.title.english || data.Media.title.userPreferred}</h4>\r\n                        <p className={s.desc} dangerouslySetInnerHTML={{__html: data.Media.description}}></p>\r\n                        {\r\n                            data.Media.characterPreview && (\r\n                                <div className={s.charsctersWrap}>\r\n                                    <h3 className={s.charactersTitle}>Characters</h3>\r\n                                    <div className={s.characters}>\r\n                                        {\r\n                                            data.Media.characterPreview.edges.map(character => {\r\n                                                return (\r\n                                                    <div key={character.id} className={s.characterWrap}>\r\n                                                        <div className={s.character}>\r\n                                                            <img src={character.node.image.large} alt=\"\" className={s.characterImg} />\r\n                                                            <div className={s.characterName}>{character.node.name.full}</div>\r\n                                                        </div>\r\n                                                        <div className={s.actor}>\r\n                                                            <div className={s.actorName}>{character.voiceActors[0] && character.voiceActors[0].name.full}</div>\r\n                                                            <img src={character.voiceActors[0] && character.voiceActors[0].image.large} className={s.actorImg} alt=\"\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AnimePage\r\n","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\n\r\nimport Main from './pages/main/Main'\r\nimport Anime from './pages/anime/Anime'\r\nimport User from './pages/user/User'\r\nimport AnimeTrendPage from './pages/anime/animeTrendPage/AnimeTrendPage'\r\nimport AnimePage from './pages/animePage/AnimePage'\r\n\r\nexport default () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={Main} />\r\n            <Route exact path='/search/anime' component={Anime} />\r\n            <Route path='/search/anime/trending' component={AnimeTrendPage} />\r\n            <Route path='/search/anime/this-season' component={AnimeTrendPage} />\r\n            <Route path='/search/anime/next-season' component={AnimeTrendPage} />\r\n            <Route path='/search/anime/popular' component={AnimeTrendPage} />\r\n            <Route path='/search/anime/top-100' component={AnimeTrendPage} />\r\n            <Route path='/anime/:slug' component={AnimePage} />\r\n            <Route exact path='/user/:slug' component={User} />\r\n            <Route path='/user/:slug/animelist' component={User} />\r\n            <Route path='/user/:slug/mangalist' component={User} />\r\n            <Route path='/user/:slug/favorites' component={User} />\r\n            <Route path='/user/:slug/stats' component={User} />\r\n            <Route path='/user/:slug/social' component={User} />\r\n        </Switch>\r\n    )\r\n}","import React from 'react'\r\nimport { Link, NavLink} from 'react-router-dom'\r\nimport s from './Header.module.sass'\r\nimport {stringify} from 'query-string'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst Header = () => {\r\n\r\n    const queryString = stringify({\r\n        client_id: '5219',\r\n        response_type: 'token'\r\n    })\r\n\r\n    const {currentUser, isLoading, isAuthorized} = useSelector(state => ({\r\n      currentUser: state.currentUser.currentUser,\r\n      isLoading: state.currentUser.isLoading,\r\n      isAuthorized: state.currentUser.isAuthorized\r\n    }))\r\n    const dispatch = useDispatch()\r\n\r\n    const handleLogout = () => {\r\n      localStorage.removeItem('access_token')\r\n      dispatch({type: 'LOGOUT'})\r\n      console.log(currentUser, isAuthorized)\r\n    }\r\n\r\n    // if(isLoading){\r\n    //   return <div>Loading...</div>\r\n    // }\r\n\r\n    return (\r\n      \r\n      <div className={s.header}>\r\n        <div className=\"container\">\r\n          <div className={s.headerBlock}>\r\n            <Link className={s.logo} to=\"/\">\r\n              An<b className={s.logoAddition}>tail</b>\r\n            </Link>\r\n            <nav className={s.nav}>\r\n              <ul className={s.navList}>\r\n                <li className={s.navItem}>\r\n                  <NavLink\r\n                    className={s.navLink}\r\n                    to=\"/search/anime\"\r\n                    activeClassName={s.activeLink}\r\n                  >\r\n                    Browse\r\n                  </NavLink>\r\n                </li>\r\n                <li className={s.navItem}>\r\n                  <NavLink\r\n                    className={s.navLink}\r\n                    to={`/user/${currentUser.name}`}\r\n                    activeClassName={s.activeLink}\r\n                  >\r\n                    Profile\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n            <div className={s.authBlock}>\r\n                {/* <svg\r\n                  className={s.search}\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  x=\"0\"\r\n                  y=\"0\"\r\n                  viewBox=\"0 0 56.966 56.966\"\r\n                  style={{ enableBackground: \"new 0 0 512 512\" }}\r\n                  xmlSpace=\"preserve\"\r\n                >\r\n                  <g>\r\n                    <path\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\"\r\n                      fill=\"#ffffff\"\r\n                    />\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                    <g xmlns=\"http://www.w3.org/2000/svg\"></g>\r\n                  </g>\r\n                </svg> */}\r\n              {isAuthorized ? (\r\n                isLoading || \r\n                <div className={s.user}>\r\n                  <div className={s.avatar} style={{background: `url(${currentUser.avatar.medium}) center no-repeat`, backgroundSize: 'cover', backgroundClip: 'padding-box'}}></div>\r\n                  <p className={s.name}>{currentUser.name}</p>\r\n                  <svg \r\n                    className={s.arrow}\r\n                    viewBox=\"0 0 448 512\"\r\n                    width='30px'\r\n                    hanging='30px'\r\n                  >\r\n                    <path\r\n                      d=\"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z\"\r\n                    ></path>\r\n                  </svg>\r\n                  <div className={s.userPopup}>\r\n                    <div className={s.userPopup_top}>\r\n                      <NavLink className={s.userPopup_link} to={`/user/${currentUser.name}`}>Profile</NavLink>\r\n                      <NavLink className={s.userPopup_link} to='/settings'>Settings</NavLink>\r\n                    </div>\r\n                    <div className={s.userPopup_bot}>\r\n                      <button onClick={handleLogout} className={s.logout}>Logout</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <a\r\n                  className={s.login}\r\n                  href={`https://anilist.co/api/v2/oauth/authorize?${queryString}`}\r\n                >\r\n                  Log in\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Header\r\n","import axios from \"axios\";\r\n\r\nexport const userAPI = {\r\n    getUser(userName) {\r\n        const query = \r\n        `\r\n            {\r\n                User(name: \"${userName}\"){\r\n                    id\r\n                    name\r\n                    avatar{\r\n                        large\r\n                        medium\r\n                    }\r\n                    bannerImage\r\n                }    \r\n            }\r\n        `\r\n        return axios.post('https://graphql.anilist.co', JSON.stringify({query}), {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            }\r\n        })\r\n        .then(res => res.data.data)\r\n    },\r\n    getCurrentUser() {\r\n        const query = \r\n        `\r\n            {\r\n                Viewer{\r\n                    id\r\n                    name\r\n                    about\r\n                    avatar{\r\n                        large\r\n                        medium\r\n                    }\r\n                }\r\n            }\r\n        `\r\n        return axios.post('https://graphql.anilist.co', JSON.stringify({query}), {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            }\r\n        })\r\n        .then(res => res.data.data)\r\n        \r\n    }\r\n}\r\n","import { useQuery, gql } from \"@apollo/client\"\r\nimport { userAPI } from \"../api\"\r\n\r\nconst SET_CURRENT_USER = 'SET_CURRENT_USER'\r\nconst IS_LOADING = 'IS_LOADING'\r\nconst LOGOUT = 'LOGOUT'\r\n\r\nconst initialState = {\r\n    currentUser: {\r\n        id: null,\r\n        name: '',\r\n        avatar: {\r\n            medium: '',\r\n            large: ''\r\n        },\r\n        about: ''\r\n    },\r\n    isAuthorized: false,\r\n    isLoading: false\r\n}\r\n\r\nconst currentUserReduser = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case IS_LOADING: \r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                isAuthorized: false\r\n            }\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: {\r\n                    ...state.currentUser,\r\n                    ...action.payload.Viewer\r\n                },\r\n                isAuthorized: true,\r\n                isLoading: false\r\n            }\r\n        case LOGOUT:\r\n            return {\r\n                ...state,\r\n                currentUser: {},\r\n                isAuthorized: false,\r\n                isLoading: false\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setIsLoading = () => ({type: IS_LOADING})\r\nexport const setCurrentUser = (user) => ({type: SET_CURRENT_USER, payload: user})\r\nexport const logout = () => ({type: LOGOUT})\r\n\r\nexport const getCurrentUser = () => async (dispatch) => {\r\n    dispatch(setIsLoading())\r\n    const res = await userAPI.getCurrentUser()\r\n    dispatch(setCurrentUser(res))\r\n}\r\n\r\nexport default currentUserReduser","import React from 'react'\r\nimport { useLocation} from 'react-router-dom'\r\nimport Routes from './routes';\r\n\r\nimport {parse} from 'query-string'\r\n\r\nimport Header from './components/header/Header';\r\nimport { useDispatch } from 'react-redux';\r\nimport {getCurrentUser} from './redux/currentUserReduser'\r\n\r\nconst App = () => {\r\n    \r\n    const location = useLocation()\r\n    const dispatch = useDispatch()\r\n    const accessToken = parse(location.hash)\r\n    if (accessToken.access_token) {\r\n      localStorage.setItem('access_token', accessToken.access_token)\r\n      window.location.hash = ''\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        if(!localStorage.getItem('access_token')) {\r\n          return\r\n        }\r\n        dispatch(getCurrentUser())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Routes />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App\r\n","import {userAPI} from '../api'\r\n\r\nconst SET_USER = '/user/SET_USER'\r\nconst IS_LOADING = 'user/IS_LOADING'\r\n\r\nconst initialState = {\r\n    user: {},\r\n    isLoading: false\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case IS_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.payload,\r\n                isLoading: false\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUser = (user) => ({type: SET_USER, payload: user})\r\nexport const setIsLoading = () => ({type: IS_LOADING})\r\n\r\nexport const getUser = (userName) => async (dispatch) => {\r\n    dispatch(setIsLoading())\r\n    const user = await userAPI.getUser(userName)\r\n    dispatch(setUser(user.User))\r\n}\r\n\r\nexport default userReducer\r\n","import { combineReducers, createStore, compose, applyMiddleware } from \"redux\";\r\nimport currentUserReduser from './currentUserReduser'\r\nimport userReducer from './userReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst redusers = combineReducers({\r\n    currentUser: currentUserReduser,\r\n    user: userReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n    redusers,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n    )\r\n\r\nexport default store","import { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport App from './App'\nimport './index.sass'\nimport store from './redux/srote'\n\nconst client = new ApolloClient({\n  uri: 'https://graphql.anilist.co',\n  cache: new InMemoryCache()\n})\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"Filters_filters__1-7S7\",\"searchWrap\":\"Filters_searchWrap__1l71y\",\"name\":\"Filters_name__3HqOV\",\"icon\":\"Filters_icon__5DUhf\",\"search\":\"Filters_search__2gyHR\",\"secondaryFilters\":\"Filters_secondaryFilters__3ddQF\",\"secondaryFiltersIcon\":\"Filters_secondaryFiltersIcon__2Lr-D\",\"activeFilters\":\"Filters_activeFilters__GiaiV\",\"secondFilter\":\"Filters_secondFilter__1cNno\",\"fade\":\"Filters_fade__2ntiT\",\"closeIcon\":\"Filters_closeIcon__b3h11\",\"selectWrap\":\"Filters_selectWrap__ejjek\",\"select\":\"Filters_select__1vSLT\",\"selectIcon\":\"Filters_selectIcon__12baD\",\"valueWrap\":\"Filters_valueWrap__vSBw2\",\"placeholder\":\"Filters_placeholder__19h5v\",\"options\":\"Filters_options__GFea6\",\"scrollWrap\":\"Filters_scrollWrap__225Ua\",\"optionTitle\":\"Filters_optionTitle__2ocb9\",\"option\":\"Filters_option__3b6sZ\",\"optionLabel\":\"Filters_optionLabel__3FD1Z\",\"selectedIconWrap\":\"Filters_selectedIconWrap__3yWby\",\"selectedIcon\":\"Filters_selectedIcon__2qmG7\",\"optionsActive\":\"Filters_optionsActive__28Wuj\",\"optionActive\":\"Filters_optionActive__1RsA1\",\"tags\":\"Filters_tags__2CzrA\",\"tag\":\"Filters_tag__3MGXC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"anime\":\"Anime_anime__3qDfF\",\"animeBanner\":\"Anime_animeBanner__2NYaN\",\"animeBannerShadow\":\"Anime_animeBannerShadow__2ZqDs\",\"searchLanding\":\"Anime_searchLanding__ZBy8D\",\"results\":\"Anime_results__1eMZH\",\"noResult\":\"Anime_noResult__2bmNR\",\"pageTitle\":\"Anime_pageTitle__1dOxC\",\"paginationButton\":\"Anime_paginationButton__1Vj5r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CardTableSkeleton_card__2TJRF\",\"image\":\"CardTableSkeleton_image__2Lzeb\",\"title\":\"CardTableSkeleton_title__1sQRr\",\"test\":\"CardTableSkeleton_test__zVKK_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"AnimePage_banner__2PqWs\",\"shadow\":\"AnimePage_shadow__3scwH\",\"animePage\":\"AnimePage_animePage__3oANp\",\"animeImg\":\"AnimePage_animeImg__328OI\",\"stats\":\"AnimePage_stats__2BrR-\",\"stat\":\"AnimePage_stat__3A843\",\"statTitle\":\"AnimePage_statTitle__O_G9q\",\"statData\":\"AnimePage_statData__2OqNN\",\"content\":\"AnimePage_content__HnitH\",\"title\":\"AnimePage_title__atZp2\",\"desc\":\"AnimePage_desc__3ULRl\",\"charactersTitle\":\"AnimePage_charactersTitle__2yAWz\",\"characters\":\"AnimePage_characters__XEwpl\",\"characterWrap\":\"AnimePage_characterWrap__190Nf\",\"character\":\"AnimePage_character__Xgjp3\",\"characterImg\":\"AnimePage_characterImg__3IucT\",\"characterName\":\"AnimePage_characterName__17w_b\",\"actor\":\"AnimePage_actor__2HRqp\",\"actorName\":\"AnimePage_actorName__2No8L\",\"actorImg\":\"AnimePage_actorImg__2IZM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"CardSkeleton_cards__crDrt\",\"card\":\"CardSkeleton_card__1CoYd\",\"image\":\"CardSkeleton_image__33m4Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"landingSection\":\"MediaList_landingSection__1obZr\",\"titleWrap\":\"MediaList_titleWrap__yWqwx\",\"title\":\"MediaList_title__1S8Tn\",\"expand\":\"MediaList_expand__1Ypb1\",\"results\":\"MediaList_results__3WWUB\",\"topCardWrap\":\"MediaList_topCardWrap__2JhV8\",\"topCard\":\"MediaList_topCard__NMyOC\",\"rankCard\":\"MediaList_rankCard__43zC7\",\"leftTopCard\":\"MediaList_leftTopCard__2VEJ8\",\"topImageLink\":\"MediaList_topImageLink__izr1b\",\"topImage\":\"MediaList_topImage__3pR62\",\"topCardTitle\":\"MediaList_topCardTitle__192RM\",\"topTitleLink\":\"MediaList_topTitleLink__1-LjC\",\"genre\":\"MediaList_genre__2LBVt\",\"rightTopCard\":\"MediaList_rightTopCard__wlbqe\",\"score\":\"MediaList_score__FFQQe\",\"percentWrap\":\"MediaList_percentWrap__2JDRj\",\"scoreSmile\":\"MediaList_scoreSmile__3U2TR\",\"percent\":\"MediaList_percent__3aXyT\",\"popularity\":\"MediaList_popularity__1qz6b\",\"formatWrap\":\"MediaList_formatWrap__366PM\",\"format\":\"MediaList_format__S2Q8K\",\"length\":\"MediaList_length__1DJ7I\",\"dateWrap\":\"MediaList_dateWrap__2FNnN\",\"date\":\"MediaList_date__2_-H3\",\"status\":\"MediaList_status__onCAH\"};"],"sourceRoot":""}